# 実戦でのGo導入

## はてなでなぜGoを導入した事例について紹介

+ Mackerel-agentが最初(サーバの監視SaaS)

## 学習

* A tour of go
* goに入ってはgoに従え

## コーディング規約

* go tool vet
* golint

  * golintは推奨事項であり，必須事項ではないので事項があっても```return 0```に成る
  * CIでチェックするのが良さそう，

## クロスビルド

* 便利だけど，すべてうまくいことは限らない
* ファイル名による分岐
* ビルドタグで分岐
```
// +build windows
// +build !windows
```

## テスト

+ 標準パッケージでだいたい十分
  * カバレッジ計測も標準で入っている
    * gotestcover
* testify(Assertライブラリ)ぐらい入れてもいいかも

## バージョン固定をどうするか

* ``` git submodule``` が無難か

## hot deploy

* リクエストを崩さないようにする必要がある．

## ghq

* レポジトリの一元管理
  * これで全部管理してしまうと go import とするときにやたら遅くなる
* pecoと組み合わせるとより便利

## 雑多なこと

* エディタについては何でも良い．エディタを便利にするためのツールについては揃っている．
* $GOPATHはどこでも良い
